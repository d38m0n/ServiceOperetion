<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>APM Manager</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <link rel="icon" href="%PUBLIC_URL%/favicon.ico"/>
    <script src="https://kit.fontawesome.com/cbe9bbc711.js " crossorigin="anonymous "></script>

</head>
<body>

<nav class="navbar navbar-expand-lg navbar-light bg-light">
    <div class="container-fluid justify-content-center">

        <a class="me-3" href="/csvItem">
            <button type="button" class="btn btn-outline-primary">IMPORT CSV APM</button>
        </a>
        <a class="me-3" href="/new">
            <button type="button" class="btn btn-outline-primary">CREATE NEW APM</button>
        </a>
        <a class="me-3" href="/serviceOrders/worker-view/GK">
            <button type="button" class="btn btn-outline-primary">WORKER ISSUES</button>
        </a>
        <a class="me-3" th:href="'/serviceOrders/show'">
            <button type="button" class="btn btn-outline-primary">ISSUES ALL</button>
        </a>

        </a>
        <a class="me-3" href="/serviceOrders/customer/PLES202106Z0032">
            <button type="button" class="btn btn-outline-primary">CUSTOMER SEND (example)</button>
        </a>


    </div>
</nav>

<div class="container-fluid" align="center">
    <br/>


    <div class="table-responsive ">
        <table class="table table-striped table-hover caption-top">
            <caption>List of APM <input placeholder="Search" type="text"></caption>
            <thead>
            <tr>
                <th scope="col">APM number</th>
                <th scope="col">Orlen</th>
                <th scope="col">Voivodeship</th>
                <th scope="col">Location</th>
                <th scope="col">City</th>
                <th scope="col">Zip Code</th>
                <th scope="col">Street</th>
                <th scope="col">Numb APM</th>
                <th scope="col">Contact Person</th>
                <th scope="col">Inst. Status</th>
                <th scope="col">Actions</th>
            </tr>
            </thead>
            <tbody>
            <tr th:each="item : ${listItems}">
                <td th:text="${item.apmNumber}">Example</td>
                <td th:text="${item.columnID}">Example</td>
                <td th:text="${item.voivodeship}">Example</td>
                <td th:text="${item.location}">Example</td>
                <td th:text="${item.city}">Example</td>
                <td th:text="${item.zipCode}">Example</td>
                <td th:text="${item.street}">Example</td>
                <td th:text="${item.contactPerson}">Example</td>
                <td th:text="${item.phoneNumber}">Example</td>
                <td th:text="${item.instStatus}">Example</td>
                <td class="justify-content-center">
                    <a th:href="'/edit/' + ${item.id}"><i class="fas fa-address-card"></i></a>
                    <a th:href="'/show/' + ${item.id}"><i class="fas fa-wrench"></i></a>
                    <a th:href="'/delete/' + ${item.id}"><i class="far fa-trash-alt"></i></a>

                </td>
            </tr>
            </tbody>
        </table>
    </div>
</div>
</body>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p"
        crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.10.2/dist/umd/popper.min.js"
        integrity="sha384-7+zCNj/IqJ95wo16oMtfsKbZ9ccEh31eOz1HGyDuCQ6wgnyJNSYdrPa03rtR1zdB"
        crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.min.js"
        integrity="sha384-QJHtvGhmr9XOIpI6YVutG+2QOK9T+ZnN4kzFN1RtK3zEFEIsxhlmWl5/YESvpZ13"
        crossorigin="anonymous"></script>

<script>
    const input = document.querySelector('input');
    const tbodySearch = document.querySelector('tbody');
    const liElements = document.querySelectorAll('tbody tr');

    const searchTask = (e) => {
        const searchText = e.target.value.toLowerCase()
        let tasks = [...liElements];
        console.log(tasks);
        tasks = tasks.filter(tr => tr.textContent.toLowerCase().includes(searchText))
        tbodySearch.textContent = "";
        tasks.forEach(li => tbodySearch.appendChild(li))
    }

    input.addEventListener('input', searchTask)
</script>
</html>